{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"The Trading Infrastructure Toolkit for Python  <p>   Research, simulate, and deploy algorithmic strategies \u2014 all in one place. </p> <p>Under Construction</p> <p>This package is under construction! OneSecondTrader is still a work in progress, but don\u2019t worry \u2013 a pre-release version is just around the corner. Grab a coffee and hang tight!</p>"},{"location":"#quickstart","title":"Quickstart","text":"pippoetry <pre><code>pip install onesecondtrader \n</code></pre> <pre><code>poetry add onesecondtrader\n</code></pre>"},{"location":"quickstart/","title":"\u2192 Quickstart","text":""},{"location":"quickstart/#redirecting","title":"Redirecting...","text":"<p>If you are not redirected automatically, click here.</p>"},{"location":"api-reference/overview/","title":"API Reference","text":"<ul> <li> <p>Events </p> <p> View <code>events</code> package API</p> </li> <li> <p>Messaging </p> <p> View <code>messaging</code> package API</p> </li> <li> <p>Models </p> <p> View <code>models</code> package API</p> </li> </ul>"},{"location":"api-reference/events/bases/","title":"Bases","text":""},{"location":"api-reference/events/bases/#onesecondtrader.events.bases.EventBase","title":"<code>EventBase</code>  <code>dataclass</code>","text":"Source code in <code>src/onesecondtrader/events/bases.py</code> <pre><code>@dataclasses.dataclass(kw_only=True, frozen=True)\nclass EventBase:\n    ts_event: pd.Timestamp\n    ts_created: pd.Timestamp = dataclasses.field(\n        default_factory=lambda: pd.Timestamp.now(tz=\"UTC\")\n    )\n</code></pre>"},{"location":"api-reference/events/bases/#onesecondtrader.events.bases.MarketEvent","title":"<code>MarketEvent</code>  <code>dataclass</code>","text":"<p>               Bases: <code>EventBase</code></p> Source code in <code>src/onesecondtrader/events/bases.py</code> <pre><code>@dataclasses.dataclass(kw_only=True, frozen=True)\nclass MarketEvent(EventBase):\n    pass\n</code></pre>"},{"location":"api-reference/events/bases/#onesecondtrader.events.bases.BrokerRequestEvent","title":"<code>BrokerRequestEvent</code>  <code>dataclass</code>","text":"<p>               Bases: <code>EventBase</code></p> Source code in <code>src/onesecondtrader/events/bases.py</code> <pre><code>@dataclasses.dataclass(kw_only=True, frozen=True)\nclass BrokerRequestEvent(EventBase):\n    system_order_id: uuid.UUID\n</code></pre>"},{"location":"api-reference/events/bases/#onesecondtrader.events.bases.BrokerResponseEvent","title":"<code>BrokerResponseEvent</code>  <code>dataclass</code>","text":"<p>               Bases: <code>EventBase</code></p> Source code in <code>src/onesecondtrader/events/bases.py</code> <pre><code>@dataclasses.dataclass(kw_only=True, frozen=True)\nclass BrokerResponseEvent(EventBase):\n    ts_broker: pd.Timestamp\n    associated_order_id: uuid.UUID\n</code></pre>"},{"location":"api-reference/events/market/","title":"Market","text":""},{"location":"api-reference/events/market/#onesecondtrader.events.market.BarReceived","title":"<code>BarReceived</code>  <code>dataclass</code>","text":"<p>               Bases: <code>MarketEvent</code></p> Source code in <code>src/onesecondtrader/events/market.py</code> <pre><code>@dataclasses.dataclass(kw_only=True, frozen=True)\nclass BarReceived(bases.MarketEvent):\n    symbol: str\n    bar_period: models.data.BarPeriod\n    open: float\n    high: float\n    low: float\n    close: float\n    volume: int | None = None\n</code></pre>"},{"location":"api-reference/events/market/#onesecondtrader.events.market.BarProcessed","title":"<code>BarProcessed</code>  <code>dataclass</code>","text":"<p>               Bases: <code>BarReceived</code></p> Source code in <code>src/onesecondtrader/events/market.py</code> <pre><code>@dataclasses.dataclass(kw_only=True, frozen=True)\nclass BarProcessed(BarReceived):\n    indicators: dict[str, float] = dataclasses.field(default_factory=dict)\n</code></pre>"},{"location":"api-reference/events/requests/","title":"Requests","text":""},{"location":"api-reference/events/requests/#onesecondtrader.events.requests.OrderSubmission","title":"<code>OrderSubmission</code>  <code>dataclass</code>","text":"<p>               Bases: <code>BrokerRequestEvent</code></p> Source code in <code>src/onesecondtrader/events/requests.py</code> <pre><code>@dataclasses.dataclass(kw_only=True, frozen=True)\nclass OrderSubmission(bases.BrokerRequestEvent):\n    system_order_id: uuid.UUID = dataclasses.field(default_factory=uuid.uuid4)\n    symbol: str\n    order_type: models.orders.OrderType\n    side: models.orders.OrderSide\n    quantity: float\n    limit_price: float | None = None\n    stop_price: float | None = None\n</code></pre>"},{"location":"api-reference/events/requests/#onesecondtrader.events.requests.OrderCancellation","title":"<code>OrderCancellation</code>  <code>dataclass</code>","text":"<p>               Bases: <code>BrokerRequestEvent</code></p> Source code in <code>src/onesecondtrader/events/requests.py</code> <pre><code>@dataclasses.dataclass(kw_only=True, frozen=True)\nclass OrderCancellation(bases.BrokerRequestEvent):\n    symbol: str\n</code></pre>"},{"location":"api-reference/events/requests/#onesecondtrader.events.requests.OrderModification","title":"<code>OrderModification</code>  <code>dataclass</code>","text":"<p>               Bases: <code>BrokerRequestEvent</code></p> Source code in <code>src/onesecondtrader/events/requests.py</code> <pre><code>@dataclasses.dataclass(kw_only=True, frozen=True)\nclass OrderModification(bases.BrokerRequestEvent):\n    symbol: str\n    quantity: float | None = None\n    limit_price: float | None = None\n    stop_price: float | None = None\n</code></pre>"},{"location":"api-reference/events/responses/","title":"Responses","text":""},{"location":"api-reference/events/responses/#onesecondtrader.events.responses.OrderSubmissionAccepted","title":"<code>OrderSubmissionAccepted</code>  <code>dataclass</code>","text":"<p>               Bases: <code>BrokerResponseEvent</code></p> Source code in <code>src/onesecondtrader/events/responses.py</code> <pre><code>@dataclasses.dataclass(kw_only=True, frozen=True)\nclass OrderSubmissionAccepted(bases.BrokerResponseEvent):\n    broker_order_id: str | None = None\n</code></pre>"},{"location":"api-reference/events/responses/#onesecondtrader.events.responses.OrderSubmissionRejected","title":"<code>OrderSubmissionRejected</code>  <code>dataclass</code>","text":"<p>               Bases: <code>BrokerResponseEvent</code></p> Source code in <code>src/onesecondtrader/events/responses.py</code> <pre><code>@dataclasses.dataclass(kw_only=True, frozen=True)\nclass OrderSubmissionRejected(bases.BrokerResponseEvent):\n    reason: str | None = None\n</code></pre>"},{"location":"api-reference/events/responses/#onesecondtrader.events.responses.OrderModificationAccepted","title":"<code>OrderModificationAccepted</code>  <code>dataclass</code>","text":"<p>               Bases: <code>BrokerResponseEvent</code></p> Source code in <code>src/onesecondtrader/events/responses.py</code> <pre><code>@dataclasses.dataclass(kw_only=True, frozen=True)\nclass OrderModificationAccepted(bases.BrokerResponseEvent):\n    broker_order_id: str | None = None\n</code></pre>"},{"location":"api-reference/events/responses/#onesecondtrader.events.responses.OrderModificationRejected","title":"<code>OrderModificationRejected</code>  <code>dataclass</code>","text":"<p>               Bases: <code>BrokerResponseEvent</code></p> Source code in <code>src/onesecondtrader/events/responses.py</code> <pre><code>@dataclasses.dataclass(kw_only=True, frozen=True)\nclass OrderModificationRejected(bases.BrokerResponseEvent):\n    reason: str | None = None\n</code></pre>"},{"location":"api-reference/events/responses/#onesecondtrader.events.responses.OrderCancellationAccepted","title":"<code>OrderCancellationAccepted</code>  <code>dataclass</code>","text":"<p>               Bases: <code>BrokerResponseEvent</code></p> Source code in <code>src/onesecondtrader/events/responses.py</code> <pre><code>@dataclasses.dataclass(kw_only=True, frozen=True)\nclass OrderCancellationAccepted(bases.BrokerResponseEvent):\n    pass\n</code></pre>"},{"location":"api-reference/events/responses/#onesecondtrader.events.responses.OrderCancellationRejected","title":"<code>OrderCancellationRejected</code>  <code>dataclass</code>","text":"<p>               Bases: <code>BrokerResponseEvent</code></p> Source code in <code>src/onesecondtrader/events/responses.py</code> <pre><code>@dataclasses.dataclass(kw_only=True, frozen=True)\nclass OrderCancellationRejected(bases.BrokerResponseEvent):\n    reason: str | None = None\n</code></pre>"},{"location":"api-reference/events/responses/#onesecondtrader.events.responses.OrderFilled","title":"<code>OrderFilled</code>  <code>dataclass</code>","text":"<p>               Bases: <code>BrokerResponseEvent</code></p> Source code in <code>src/onesecondtrader/events/responses.py</code> <pre><code>@dataclasses.dataclass(kw_only=True, frozen=True)\nclass OrderFilled(bases.BrokerResponseEvent):\n    fill_id: uuid.UUID = dataclasses.field(default_factory=uuid.uuid4)\n    broker_fill_id: str | None = None\n    symbol: str\n    side: models.orders.OrderSide\n    quantity_filled: float\n    fill_price: float\n    commission: float\n    exchange: str = \"SIMULATED\"\n</code></pre>"},{"location":"api-reference/events/responses/#onesecondtrader.events.responses.OrderExpired","title":"<code>OrderExpired</code>  <code>dataclass</code>","text":"<p>               Bases: <code>BrokerResponseEvent</code></p> Source code in <code>src/onesecondtrader/events/responses.py</code> <pre><code>@dataclasses.dataclass(kw_only=True, frozen=True)\nclass OrderExpired(bases.BrokerResponseEvent):\n    pass\n</code></pre>"},{"location":"api-reference/messaging/eventbus/","title":"Eventbus","text":""},{"location":"api-reference/messaging/eventbus/#onesecondtrader.messaging.eventbus.EventBus","title":"<code>EventBus</code>","text":""},{"location":"api-reference/messaging/eventbus/#onesecondtrader.messaging.eventbus.EventBus.__init__","title":"<code>__init__()</code>","text":"Source code in <code>src/onesecondtrader/messaging/eventbus.py</code> <pre><code>def __init__(self) -&gt; None:\n    self._per_event_subscriptions: collections.defaultdict[\n        type[events.bases.EventBase], set[Subscriber]\n    ] = collections.defaultdict(set)\n    self._subscribers: set[Subscriber] = set()\n    self._lock: threading.Lock = threading.Lock()\n</code></pre>"},{"location":"api-reference/messaging/eventbus/#onesecondtrader.messaging.eventbus.EventBus.subscribe","title":"<code>subscribe(subscriber, event_type)</code>","text":"Source code in <code>src/onesecondtrader/messaging/eventbus.py</code> <pre><code>def subscribe(\n    self,\n    subscriber: Subscriber,\n    event_type: type[events.bases.EventBase],\n) -&gt; None:\n    with self._lock:\n        self._subscribers.add(subscriber)\n        self._per_event_subscriptions[event_type].add(subscriber)\n</code></pre>"},{"location":"api-reference/messaging/eventbus/#onesecondtrader.messaging.eventbus.EventBus.unsubscribe","title":"<code>unsubscribe(subscriber)</code>","text":"Source code in <code>src/onesecondtrader/messaging/eventbus.py</code> <pre><code>def unsubscribe(self, subscriber: Subscriber) -&gt; None:\n    with self._lock:\n        for set_of_event_subscribers in self._per_event_subscriptions.values():\n            set_of_event_subscribers.discard(subscriber)\n        self._subscribers.discard(subscriber)\n</code></pre>"},{"location":"api-reference/messaging/eventbus/#onesecondtrader.messaging.eventbus.EventBus.publish","title":"<code>publish(event)</code>","text":"Source code in <code>src/onesecondtrader/messaging/eventbus.py</code> <pre><code>def publish(self, event: events.bases.EventBase) -&gt; None:\n    with self._lock:\n        subscribers = self._per_event_subscriptions[type(event)].copy()\n    for subscriber in subscribers:\n        subscriber.receive(event)\n</code></pre>"},{"location":"api-reference/messaging/eventbus/#onesecondtrader.messaging.eventbus.EventBus.wait_until_system_idle","title":"<code>wait_until_system_idle()</code>","text":"Source code in <code>src/onesecondtrader/messaging/eventbus.py</code> <pre><code>def wait_until_system_idle(self) -&gt; None:\n    with self._lock:\n        subscribers = self._subscribers.copy()\n    for subscriber in subscribers:\n        subscriber.wait_until_idle()\n</code></pre>"},{"location":"api-reference/messaging/subscriber/","title":"Subscriber","text":""},{"location":"api-reference/messaging/subscriber/#onesecondtrader.messaging.subscriber.Subscriber","title":"<code>Subscriber</code>","text":"<p>               Bases: <code>ABC</code></p>"},{"location":"api-reference/messaging/subscriber/#onesecondtrader.messaging.subscriber.Subscriber.__init__","title":"<code>__init__(event_bus)</code>","text":"Source code in <code>src/onesecondtrader/messaging/subscriber.py</code> <pre><code>def __init__(self, event_bus: EventBus) -&gt; None:\n    self._event_bus = event_bus\n    self._queue: queue.Queue[events.bases.EventBase | None] = queue.Queue()\n    self._running: threading.Event = threading.Event()\n    self._running.set()\n    self._thread = threading.Thread(\n        target=self._event_loop, name=self.__class__.__name__\n    )\n    self._thread.start()\n</code></pre>"},{"location":"api-reference/messaging/subscriber/#onesecondtrader.messaging.subscriber.Subscriber.receive","title":"<code>receive(event)</code>","text":"Source code in <code>src/onesecondtrader/messaging/subscriber.py</code> <pre><code>def receive(self, event: events.bases.EventBase) -&gt; None:\n    if self._running.is_set():\n        self._queue.put(event)\n</code></pre>"},{"location":"api-reference/messaging/subscriber/#onesecondtrader.messaging.subscriber.Subscriber.wait_until_idle","title":"<code>wait_until_idle()</code>","text":"Source code in <code>src/onesecondtrader/messaging/subscriber.py</code> <pre><code>def wait_until_idle(self) -&gt; None:\n    if not self._running.is_set():\n        return\n    self._queue.join()\n</code></pre>"},{"location":"api-reference/messaging/subscriber/#onesecondtrader.messaging.subscriber.Subscriber.shutdown","title":"<code>shutdown()</code>","text":"Source code in <code>src/onesecondtrader/messaging/subscriber.py</code> <pre><code>def shutdown(self) -&gt; None:\n    if not self._running.is_set():\n        return\n    self._event_bus.unsubscribe(self)\n    self._running.clear()\n    self._queue.put(None)\n    if threading.current_thread() is not self._thread:\n        self._thread.join()\n</code></pre>"},{"location":"api-reference/messaging/subscriber/#onesecondtrader.messaging.subscriber.Subscriber._subscribe","title":"<code>_subscribe(*event_types)</code>","text":"Source code in <code>src/onesecondtrader/messaging/subscriber.py</code> <pre><code>def _subscribe(self, *event_types: type[events.bases.EventBase]) -&gt; None:\n    # Call as last line of subclass __init__ to avoid receiving events before fully initialized\n    for event_type in event_types:\n        self._event_bus.subscribe(self, event_type)\n</code></pre>"},{"location":"api-reference/messaging/subscriber/#onesecondtrader.messaging.subscriber.Subscriber._event_loop","title":"<code>_event_loop()</code>","text":"Source code in <code>src/onesecondtrader/messaging/subscriber.py</code> <pre><code>def _event_loop(self) -&gt; None:\n    while True:\n        event = self._queue.get()\n        if event is None:\n            self._queue.task_done()\n            break\n        try:\n            self._on_event(event)\n        except Exception as exc:\n            self._on_exception(exc)\n        finally:\n            self._queue.task_done()\n    self._cleanup()\n</code></pre>"},{"location":"api-reference/messaging/subscriber/#onesecondtrader.messaging.subscriber.Subscriber._on_exception","title":"<code>_on_exception(exc)</code>","text":"Source code in <code>src/onesecondtrader/messaging/subscriber.py</code> <pre><code>def _on_exception(self, exc: Exception) -&gt; None:\n    # Override in subclass to log or handle exceptions\n    pass\n</code></pre>"},{"location":"api-reference/messaging/subscriber/#onesecondtrader.messaging.subscriber.Subscriber._cleanup","title":"<code>_cleanup()</code>","text":"Source code in <code>src/onesecondtrader/messaging/subscriber.py</code> <pre><code>def _cleanup(self) -&gt; None:\n    pass\n</code></pre>"},{"location":"api-reference/messaging/subscriber/#onesecondtrader.messaging.subscriber.Subscriber._on_event","title":"<code>_on_event(event)</code>  <code>abstractmethod</code>","text":"Source code in <code>src/onesecondtrader/messaging/subscriber.py</code> <pre><code>@abc.abstractmethod\ndef _on_event(self, event: events.bases.EventBase) -&gt; None:\n    # Must not block indefinitely; wait_until_idle() has no timeout\n    ...\n</code></pre>"},{"location":"api-reference/models/data/","title":"Data","text":""},{"location":"api-reference/models/data/#onesecondtrader.models.data.BarPeriod","title":"<code>BarPeriod</code>","text":"<p>               Bases: <code>Enum</code></p> Source code in <code>src/onesecondtrader/models/data.py</code> <pre><code>class BarPeriod(enum.Enum):\n    SECOND = enum.auto()\n    MINUTE = enum.auto()\n    HOUR = enum.auto()\n    DAY = enum.auto()\n</code></pre>"},{"location":"api-reference/models/orders/","title":"Orders","text":""},{"location":"api-reference/models/orders/#onesecondtrader.models.orders.OrderType","title":"<code>OrderType</code>","text":"<p>               Bases: <code>Enum</code></p> Source code in <code>src/onesecondtrader/models/orders.py</code> <pre><code>class OrderType(enum.Enum):\n    LIMIT = enum.auto()\n    MARKET = enum.auto()\n    STOP = enum.auto()\n    STOP_LIMIT = enum.auto()\n</code></pre>"},{"location":"api-reference/models/orders/#onesecondtrader.models.orders.OrderSide","title":"<code>OrderSide</code>","text":"<p>               Bases: <code>Enum</code></p> Source code in <code>src/onesecondtrader/models/orders.py</code> <pre><code>class OrderSide(enum.Enum):\n    BUY = enum.auto()\n    SELL = enum.auto()\n</code></pre>"}]}